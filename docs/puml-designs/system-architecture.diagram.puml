@startuml FusionSpace Architecture

skinparam componentStyle uml2
skinparam linetype ortho

!define RECTANGLE class

package "Client Layer" {
    [Web Application]
    [Progressive Web App]
    [Mobile Application]
}

package "Presentation Layer" {
    [User Authentication UI]
    [Global Search UI]
    [Third Party Integration UI]
    [Contact Management UI]
    [Environment Management UI]
    [Project Management UI]
    [UI Customization]
    [File Management UI]
    [Live Communication UI]
}

package "Business Logic Layer" {
    [Authentication Service]
    [Search Service]
    [Third Party Service]
    [Contact Service]
    [Environment Service]
    [Project Service]
    [Customization Service]
    [File Service]
    [Communication Service]
    [Sync Service]
    [AI Service]
}

package "Integration Layer" {
    [REST API Gateway]
    [WebSocket Server]
    [Message Queue]
}

cloud "External Services" {
    [Google Drive]
    [Google Meet]
    [LMS]
    [Calendar Services]
}

database "Data Layer" {
    [User Database]
    [Media Storage]
    [Application Database]
    [Cache]
}

' Client to Presentation connections
[Web Application] --> [User Authentication UI]
[Progressive Web App] --> [User Authentication UI]
[Mobile Application] --> [User Authentication UI]

' Presentation to Business Logic
[User Authentication UI] --> [Authentication Service]
[Global Search UI] --> [Search Service]
[Third Party Integration UI] --> [Third Party Service]
[Contact Management UI] --> [Contact Service]
[Environment Management UI] --> [Environment Service]
[Project Management UI] --> [Project Service]
[UI Customization] --> [Customization Service]
[File Management UI] --> [File Service]
[Live Communication UI] --> [Communication Service]

' Business Logic to Integration
[Authentication Service] --> [REST API Gateway]
[Search Service] --> [REST API Gateway]
[Communication Service] --> [WebSocket Server]
[Sync Service] --> [Message Queue]

' Integration to External
[REST API Gateway] --> [Google Drive]
[REST API Gateway] --> [Google Meet]
[REST API Gateway] --> [LMS]
[REST API Gateway] --> [Calendar Services]

' Integration to Data
[REST API Gateway] --> [User Database]
[REST API Gateway] --> [Media Storage]
[REST API Gateway] --> [Application Database]
[WebSocket Server] --> [Cache]
[Message Queue] --> [Application Database]

' AI Service connections
[AI Service] --> [REST API Gateway]
[Search Service] --> [AI Service]
[Environment Service] --> [AI Service]
[Project Service] --> [AI Service]

@enduml